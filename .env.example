# ============================================
# REQUIRED: JWT Authentication Secrets
# ============================================
# Generate secure secrets with: openssl rand -base64 48
# Minimum 32 characters required
# The application will FAIL TO START without a valid JWT_SECRET

JWT_SECRET=your-secret-key-here-min-32-chars-replace-me
JWT_REFRESH_SECRET=your-refresh-secret-here-replace-me

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
# For production, specify your exact domain(s)
# For development, include localhost ports

ALLOWED_ORIGINS=http://localhost:80,http://localhost:5173,https://yourdomain.com

# ============================================
# Server Configuration
# ============================================
# Backend API internal port (default: 3000)
PORT=3000

# Frontend Nginx internal port (default: 80)
FRONTEND_PORT=80

# ============================================
# Feature Flags
# ============================================
# Disable new user registration (set to "true" to disable)
DISABLE_REGISTRATION=false

# Run database migrations at startup (set to "true" to enable)
# WARNING: Only enable during initial setup or schema changes
RUN_MIGRATIONS=false

# Enable background workers (auto-keep promises, recurring reminders)
# Set to "false" to disable in read-only or maintenance mode
ENABLE_WORKERS=true

# ============================================
# Email Reminders (Optional)
# ============================================
# SMTP configuration for sending email reminders
# If not configured, only push notifications will be sent

# SMTP server hostname
SMTP_HOST=smtp.gmail.com

# SMTP server port (usually 587 for TLS, 465 for SSL)
SMTP_PORT=587

# SMTP authentication credentials
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# From address for outgoing emails
SMTP_FROM=noreply@yourdomain.com

# Use TLS encryption (recommended: true)
SMTP_USE_TLS=true

# App URL for email links (e.g., "View Promise" button)
APP_URL=https://yourdomain.com

# ============================================
# Web Push Notifications (VAPID)
# ============================================
# Generate VAPID keys using: npx web-push generate-vapid-keys
# Or use any online VAPID key generator
# These are required for push notifications to work when browser is closed

VAPID_PUBLIC_KEY=your-vapid-public-key-here
VAPID_PRIVATE_KEY=your-vapid-private-key-here
VAPID_SUBJECT=mailto:admin@yourdomain.com

# ============================================
# Production Deployment Example
# ============================================
# JWT_SECRET=<generated-with-openssl-rand-base64-48>
# JWT_REFRESH_SECRET=<generated-with-openssl-rand-base64-48>
# ALLOWED_ORIGINS=https://kept.yourdomain.com
# PORT=3000
# FRONTEND_PORT=80
# DISABLE_REGISTRATION=true
# RUN_MIGRATIONS=false
# ENABLE_WORKERS=true
